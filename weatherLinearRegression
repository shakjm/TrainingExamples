#File has been written by Kelvin Shak
#With reference to UDEMY course on Data Science & Machine Learning

import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
import sklearn.preprocessing as skl
import os

#Changing Directory to csv file and reading CSV file
#
#
os.chdir('/home/shak/Documents/DataScience/Examples')
cfile = pd.read_csv('weatherHistory.csv')
colfile = ['Temperature (C)','Humidity']
cfile_TH = cfile[colfile]

#Process file based on Temperature and Humidity
#Plot of scatter of the data to show a rough plot of datasets
#
temp_data = cfile_TH['Temperature (C)']
humid_data = cfile_TH['Humidity']

plt.figure()
plt.show()
plt.title('Graph of Humidity against Temperature')
plt.ylabel('Temperature')
plt.xlabel('Humidity')
plt.scatter(humid_data,temp_data)

#Linear Regression Tool

from scipy import stats
slope,intercept,r,p,stderr = stats.linregress(humid_data,temp_data)

#Finding a line that fits the data
# y = mx + c
#
def line(x) : 
    return slope*x + intercept

straightline = line(humid_data)
plt.plot(humid_data,straightline,'r--')

#Printing R square value
rsquare = r**2
print('Value of r square is : ', rsquare)

#Relationship between Humidity and Apparent Temperature
col2 = ['Humidity','Apparent Temperature (C)']
data2 = cfile[col2]
humid_data2 = cfile['Humidity']
app_data2 = cfile['Apparent Temperature (C)']

plt.figure()
plt.show()
plt.title('Linear Regression for Humidity Against Apparent Temperature')
plt.xlabel('Humidity')
plt.ylabel('Apparent Temperature')
plt.scatter(humid_data2,app_data2)

slope2,intercept2,r2,p2,stderr2 = stats.linregress(humid_data2,app_data2)

def line2(x):
    return slope2*x + intercept2

straightline2 = line2(humid_data2)
plt.plot(humid_data2,straightline2,'b-')

rsquare2 = r2**2
print('Value of R square for Humidity against Apparent Temperature is : ', rsquare2)
